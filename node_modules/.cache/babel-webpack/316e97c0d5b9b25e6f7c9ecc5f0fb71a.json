{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"src/app/core/services/service-general/service-general.service\";\nimport * as i3 from \"src/app/pages/dialog-general/loader/loader.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = [\"mySelect\"];\n\nfunction DialogAddTransferComponent_h4_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 26);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \" HACER UNA SOLICITUD \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_h4_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 26);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \" HACER UNA TRANSFERENCIA \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h4\", 26);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" \\u00A0 \");\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" De Sucursal \", ctx_r2.nameSucursal, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" A \", ctx_r2.navParams.data.nameSucursal, \"\");\n  }\n}\n\nfunction DialogAddTransferComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h4\", 26);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" \\u00A0 \");\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" De Sucursal \", ctx_r3.fromBranch, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" A \", ctx_r3.toBranch, \"\");\n  }\n}\n\nfunction DialogAddTransferComponent_ion_select_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r13.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r13.status, \" \");\n  }\n}\n\nfunction DialogAddTransferComponent_ion_label_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\", 28);\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_ion_label_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\", 28);\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_ion_label_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\", 28);\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_ion_col_41_ion_select_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r16 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", data_r16.codarticulo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r16.descripcion, \" \");\n  }\n}\n\nfunction DialogAddTransferComponent_ion_col_41_ion_label_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\", 28);\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_ion_col_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 1);\n    i0.ɵɵelementStart(1, \"ion-label\", 29);\n    i0.ɵɵtext(2, \"Producto *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-card\", 11);\n    i0.ɵɵelementStart(4, \"ion-list\");\n    i0.ɵɵelementStart(5, \"ion-list-header\");\n    i0.ɵɵelementStart(6, \"ion-searchbar\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function DialogAddTransferComponent_ion_col_41_Template_ion_searchbar_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.search = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-item\");\n    i0.ɵɵelementStart(8, \"ion-label\");\n    i0.ɵɵtext(9, \"Producto \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-select\", 31);\n    i0.ɵɵlistener(\"focus\", function DialogAddTransferComponent_ion_col_41_Template_ion_select_focus_10_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.activeProductId = false;\n    })(\"click\", function DialogAddTransferComponent_ion_col_41_Template_ion_select_click_10_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.getCatalog(ctx_r20.search);\n    })(\"ngModelChange\", function DialogAddTransferComponent_ion_col_41_Template_ion_select_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.data.productId = $event;\n    });\n    i0.ɵɵtemplate(11, DialogAddTransferComponent_ion_col_41_ion_select_option_11_Template, 2, 2, \"ion-select-option\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, DialogAddTransferComponent_ion_col_41_ion_label_12_Template, 2, 0, \"ion-label\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.search);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.data.productId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.selectCatalogs);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.activeProductId);\n  }\n}\n\nfunction DialogAddTransferComponent_ion_col_42_ion_select_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", data_r24.codarticulo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r24.descripcion, \" \");\n  }\n}\n\nfunction DialogAddTransferComponent_ion_col_42_ion_label_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\", 28);\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_ion_col_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 1);\n    i0.ɵɵelementStart(1, \"ion-label\", 29);\n    i0.ɵɵtext(2, \"Producto *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-card\", 11);\n    i0.ɵɵelementStart(4, \"ion-list\");\n    i0.ɵɵelementStart(5, \"ion-list-header\");\n    i0.ɵɵelementStart(6, \"ion-searchbar\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function DialogAddTransferComponent_ion_col_42_Template_ion_searchbar_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.search = $event;\n    })(\"keyup\", function DialogAddTransferComponent_ion_col_42_Template_ion_searchbar_keyup_6_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.getCatalog(ctx_r27.search);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-item\");\n    i0.ɵɵelementStart(8, \"ion-label\");\n    i0.ɵɵtext(9, \"Producto \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-select\", 33);\n    i0.ɵɵlistener(\"focus\", function DialogAddTransferComponent_ion_col_42_Template_ion_select_focus_10_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.activeProductId = false;\n    })(\"ngModelChange\", function DialogAddTransferComponent_ion_col_42_Template_ion_select_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.data.productId = $event;\n    });\n    i0.ɵɵtemplate(11, DialogAddTransferComponent_ion_col_42_ion_select_option_11_Template, 2, 2, \"ion-select-option\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, DialogAddTransferComponent_ion_col_42_ion_label_12_Template, 2, 0, \"ion-label\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.search);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.data.productId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.selectCatalogs);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.activeProductId);\n  }\n}\n\nfunction DialogAddTransferComponent_ion_col_43_ion_label_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\", 28);\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_ion_col_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 1);\n    i0.ɵɵelementStart(1, \"ion-label\");\n    i0.ɵɵtext(2, \"Codigo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-card\", 11);\n    i0.ɵɵelementStart(4, \"ion-input\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function DialogAddTransferComponent_ion_col_43_Template_ion_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.data.code = $event;\n    })(\"focus\", function DialogAddTransferComponent_ion_col_43_Template_ion_input_focus_4_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.activeCode = false;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, DialogAddTransferComponent_ion_col_43_ion_label_5_Template, 2, 0, \"ion-label\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r10.data.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.activeCode);\n  }\n}\n\nfunction DialogAddTransferComponent_ion_label_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\", 28);\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DialogAddTransferComponent_ion_label_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-label\", 28);\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let DialogAddTransferComponent = /*#__PURE__*/(() => {\n  class DialogAddTransferComponent {\n    constructor(modalController, navParams, service, load) {\n      this.modalController = modalController;\n      this.navParams = navParams;\n      this.service = service;\n      this.load = load;\n      this.data = new TransferModel();\n      this.today = new Date();\n      this.disabled = false;\n      this.search = '';\n      this.dataStatus = [];\n      this.selectCatalogs = [];\n      this.visible = false;\n      this.customYearValues = [2020, 2016, 2008, 2004, 2000, 1996];\n      this.customDayShortNames = ['s\\u00f8n', 'man', 'tir', 'ons', 'tor', 'fre', 'l\\u00f8r'];\n      this.paquete = 'Paquete de Pollo'; // ******variables de validacion ********\n\n      this.activeStatus = false;\n      this.activeDate = false;\n      this.activeTime = false;\n      this.activeProductId = false;\n      this.activeCode = false;\n      this.activeAmount = false;\n      this.activeComment = false; // nombre de sucursal\n\n      this.fromBranch = '';\n      this.toBranch = '';\n      this.dataBranch = [];\n      this.selectCatalogs = [{\n        codarticulo: 0,\n        descripcion: 'No hay información'\n      }];\n      this.customPickerOptions = {\n        buttons: [{\n          text: 'Guardar',\n          handler: () => console.log('Clicked Save!')\n        }, {\n          text: 'Log',\n          handler: () => {\n            console.log('Clicked Log. Do not Dismiss.');\n            return false;\n          }\n        }]\n      };\n    }\n\n    ionViewWillEnter() {\n      this.user = JSON.parse(localStorage.getItem('userData'));\n      console.log('user', this.user);\n      console.log('data que recibe', this.navParams.data);\n      this.idRegister = this.navParams.data.id;\n      this.branchId = this.navParams.data.branchId;\n      this.type = this.navParams.data.type;\n      this.nameSucursal = this.navParams.data.nameSucursal;\n      this.getStatus();\n      this.getBranch();\n\n      if (this.idRegister !== 0) {\n        this.getTransfer();\n      }\n    }\n\n    ngOnInit() {}\n\n    getTransfer() {\n      this.service.serviceGeneralGet('Transfer/' + this.idRegister).subscribe(resp => {\n        if (resp.success) {\n          this.data = resp.result;\n          console.log('get transfer', this.data);\n          this.getCatalog(this.data.product); // para identificar que se cambio la hora igualamos variables\n\n          this.timestamp = this.data.time;\n          this.getFomName();\n          this.getToName();\n        }\n      });\n    }\n\n    dismiss() {\n      this.modalController.dismiss({\n        dismissed: true\n      });\n    } // get  name sucursal\n\n\n    getBranch() {\n      this.service.serviceGeneralGet('StockChicken/Admin/All-Branch').subscribe(resp => {\n        if (resp.success) {\n          this.dataBranch = resp.result;\n          console.log('get branch', this.dataBranch);\n          this.getName();\n        }\n      });\n    }\n\n    getName() {\n      this.dataBranch.forEach(element => {\n        if (element.branchId === this.user.branchId) {\n          this.nameSucursal = element.branchName;\n          this.nameSucursal = this.nameSucursal.toUpperCase();\n          console.log('nombre from', this.nameSucursal);\n        }\n      });\n    }\n\n    getFomName() {\n      this.dataBranch.forEach(element => {\n        if (element.branchId === this.data.fromBranchId) {\n          this.fromBranch = element.branchName;\n          this.fromBranch = this.fromBranch.toUpperCase();\n          console.log('nombre from', this.fromBranch);\n        }\n      });\n    }\n\n    getToName() {\n      this.dataBranch.forEach(element => {\n        if (element.branchId === this.data.toBranchId) {\n          this.toBranch = element.branchName;\n          this.toBranch = this.toBranch.toUpperCase();\n          console.log('nombre from', this.toBranch);\n        }\n      });\n    } // trae coincidencias de productos segun su busqueda\n\n\n    getCatalog(search) {\n      console.log('search', search);\n      this.selectCatalogs = [];\n\n      if (search.length > 2) {\n        this.service.serviceGeneralGet(`Items/${this.user.branchId}/${search}`).subscribe(resp => {\n          if (resp.success) {\n            console.log('get productos', resp);\n            this.selectCatalogs = resp.result[2];\n            this.visible = true;\n          }\n        });\n      } else {\n        this.selectCatalogs = [{\n          codarticulo: 0,\n          descripcion: 'No hay información'\n        }];\n        return;\n      }\n    } // status de paquete\n\n\n    getStatus() {\n      this.dataStatus = [];\n      this.service.serviceGeneralGet(`Transfer/Catalogue/Status`).subscribe(resp => {\n        if (resp.success) {\n          this.dataStatus = resp.result; // si type es 1 = transferir se quita el estatus Solicitado\n          // si type es 2 = request se quita el estatus Transferido\n          // if (this.type === 1) {\n          //   resp.result.forEach((element) => {\n          //     if (element.status !== 'Solicitado') {\n          //       this.dataStatus.push(element);\n          //     }\n          //   });\n          // } else {\n          //   resp.result.forEach((element) => {\n          //     if (element.status !== 'Transferido') {\n          //       this.dataStatus.push(element);\n          //     }\n          //   });\n          // }\n\n          console.log('get status', this.dataStatus);\n        }\n      });\n    } // trae las cantidades de la bd para un autocomplete para el campo cantidad\n\n\n    getWordAmount(word) {\n      console.log('buscar coincidencias', word);\n\n      if (word.length > 3) {\n        this.service.serviceGeneralGet(`Transfer/Catalogue/Amount?word=${word}`).subscribe(resp => {\n          var _a;\n\n          if (resp.success) {\n            console.log('get coincidencias', resp.result);\n\n            if (((_a = resp.result) === null || _a === void 0 ? void 0 : _a.length) === 0 || resp.result === null) {\n              return;\n            } else {\n              this.data.amount = resp.result[0];\n            }\n          }\n        });\n      } else {\n        return;\n      }\n    }\n\n    validateSave() {\n      if (this.data.status === undefined || this.data.status === null) {\n        this.activeStatus = true;\n      } else {\n        this.activeStatus = false;\n      }\n\n      if (this.data.date === undefined || this.data.date === null) {\n        this.activeDate = true;\n      } else {\n        this.activeDate = false;\n      }\n\n      if (this.data.time === '' || this.data.time === undefined || this.data.time === null) {\n        this.activeTime = true;\n      } else {\n        this.activeTime = false;\n      }\n\n      if (this.data.time === '' || this.data.time === undefined || this.data.time === null) {\n        this.activeTime = true;\n      } else {\n        this.activeTime = false;\n      }\n\n      if (this.data.productId === undefined || this.data.productId === null) {\n        this.activeProductId = true;\n      } else {\n        this.activeProductId = false;\n      }\n\n      if (this.data.amount === '' || this.data.amount === undefined || this.data.amount === null) {\n        this.activeAmount = true;\n      } else {\n        this.activeAmount = false;\n      }\n\n      if (this.data.comment === '' || this.data.comment === undefined || this.data.comment === null) {\n        this.activeComment = true;\n      } else {\n        this.activeComment = false;\n      }\n\n      if (this.data.status === undefined || this.data.date === undefined || this.data.time === '' || this.data.time === undefined || this.data.productId === undefined || this.data.amount === '' || this.data.amount === undefined || this.data.comment === '' || this.data.comment === undefined) {\n        return;\n      } else {\n        this.save();\n      }\n    }\n\n    save() {\n      if (this.idRegister === 0) {\n        this.addTransference();\n      } else {\n        this.updateTransference();\n      }\n    }\n\n    getFormatTimeStamp() {\n      // this.data.time = new Date(this.data.time);\n      // \"15:55\"\n      if (this.data.time.length === 5) {\n        console.log('time', this.data.time);\n        let datetime = '';\n        datetime = `${this.data.time}:00`;\n        this.data.time = datetime;\n      } //   '' +\n      //   this.data.time.getHours() +\n      //   ':' +\n      //   this.data.time.getMinutes() +\n      //   ':' + 0 + '';\n      // this.data.time.getSeconds();\n\n\n      console.log('timestamp', this.data.time);\n    } //  HACER UNA TRANSFERENCIA/SOLICITAR UNA TRANSFERENCIA\n\n\n    addTransference() {\n      this.getFormatTimeStamp();\n      this.data.type = this.type;\n      this.data.fromBranchId = this.user.branchId;\n      this.data.toBranchId = this.branchId;\n      this.data.createdBy = this.user.id;\n      this.data.createdDate = this.today;\n      this.data.updatedBy = this.user.id;\n      this.data.updatedDate = this.today;\n\n      if (this.data.code === undefined) {\n        this.data.code = '';\n      }\n\n      this.disabled = true;\n      console.log('obj a guardar', this.data);\n      this.service.serviceGeneralPostWithUrl('Transfer', this.data).subscribe(resp => {\n        if (resp.success) {\n          this.load.presentLoading('Guardando..');\n          console.log('data', resp);\n          this.disabled = false;\n          this.ionViewWillEnter();\n          this.modalController.dismiss({\n            dismissed: true\n          });\n        }\n      });\n      this.disabled = false;\n    }\n\n    updateTransference() {\n      // si la variable time se modifico se agrega formato\n      if (this.data.time !== this.timestamp) {\n        this.getFormatTimeStamp();\n      }\n\n      this.data.type = 1;\n      this.data.fromBranchId = this.user.branchId;\n      this.data.toBranchId = this.branchId;\n      this.data.updatedBy = this.user.id;\n      this.data.updatedDate = this.today;\n      this.disabled = true;\n      console.log('obj a guardar', this.data);\n      this.service.serviceGeneralPut('Transfer', this.data).subscribe(resp => {\n        if (resp.success) {\n          this.load.presentLoading('Actualizando ..');\n          console.log('data', resp);\n          this.ionViewWillEnter();\n          this.modalController.dismiss({\n            dismissed: true\n          });\n        }\n      });\n    }\n\n  }\n\n  DialogAddTransferComponent.ɵfac = function DialogAddTransferComponent_Factory(t) {\n    return new (t || DialogAddTransferComponent)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i1.NavParams), i0.ɵɵdirectiveInject(i2.ServiceGeneralService), i0.ɵɵdirectiveInject(i3.LoaderComponent));\n  };\n\n  DialogAddTransferComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DialogAddTransferComponent,\n    selectors: [[\"app-dialog-add-transfer\"]],\n    viewQuery: function DialogAddTransferComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.selectRef = _t.first);\n      }\n    },\n    inputs: {\n      idRegister: \"idRegister\",\n      branchId: \"branchId\",\n      type: \"type\",\n      nameSucursal: \"nameSucursal\"\n    },\n    decls: 62,\n    vars: 21,\n    consts: [[1, \"ion-no-border\", \"ion-padding\"], [\"size\", \"12\"], [1, \"close\", \"align-text-end\"], [\"slot\", \"icon-only\", \"name\", \"close-outline\", \"color\", \"danger\", 3, \"click\"], [\"size\", \"12\", 1, \"ion-align-self-center\"], [\"class\", \"subtitle-negro\", 4, \"ngIf\"], [\"size\", \"1\", 1, \"ion-align-self-center\"], [\"src\", \"./assets/icon/ilustracion_transferencias.png\", \"alt\", \"\"], [\"size\", \"11\", 1, \"ion-align-self-center\"], [4, \"ngIf\"], [\"fullscreen\", \"false\", 1, \"ion-padding\"], [1, \"closed\"], [\"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"focus\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"style\", \"color: #ad182d; font-size: 12px\", 4, \"ngIf\"], [\"size\", \"6\"], [1, \"ion-align-self-center\"], [\"required\", \"\", \"type\", \"date\", \"min\", \"1990-02\", \"displayFormat\", \"DD/MMM/YYYY\", \"monthShortNames\", \"ene, feb, mar, abr, may, jun, jul, ago, sep, oct, nov, dic\", 3, \"ngModel\", \"value\", \"dayShortNames\", \"ngModelChange\", \"focus\"], [\"required\", \"\", \"value\", \"23:59\", \"type\", \"time\", 3, \"ngModel\", \"focus\", \"ngModelChange\"], [\"size\", \"12\", 4, \"ngIf\"], [\"required\", \"\", \"type\", \"text\", \"placeholder\", \"Cantidad\", 3, \"ngModel\", \"focus\", \"keyup\", \"ngModelChange\"], [\"required\", \"\", \"rows\", \"6\", \"cols\", \"20\", 3, \"ngModel\", \"focus\", \"ngModelChange\"], [\"no-border\", \"\"], [\"size\", \"12\", 1, \"footer\"], [\"size\", \"3\", \"offset\", \"8\"], [\"shape\", \"round\", \"color\", \"danger\", \"expand\", \"full\", 3, \"disabled\", \"click\"], [1, \"subtitle-negro\"], [3, \"value\"], [2, \"color\", \"#ad182d\", \"font-size\", \"12px\"], [\"floating\", \"\"], [\"placeholder\", \"Buscar\", 3, \"ngModel\", \"ngModelChange\"], [\"required\", \"\", \"placeholder\", \"Selecciona un producto\", 3, \"ngModel\", \"focus\", \"click\", \"ngModelChange\"], [\"placeholder\", \"Buscar\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"required\", \"\", \"placeholder\", \"Selecciona un producto\", 3, \"ngModel\", \"focus\", \"ngModelChange\"], [\"required\", \"\", \"value\", \"-\", \"type\", \"text\", \"placeholder\", \"Codigo\", 3, \"ngModel\", \"ngModelChange\", \"focus\"]],\n    template: function DialogAddTransferComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-app\");\n        i0.ɵɵelementStart(1, \"ion-header\", 0);\n        i0.ɵɵelementStart(2, \"ion-row\", 1);\n        i0.ɵɵelementStart(3, \"ion-col\", 1);\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelementStart(5, \"ion-icon\", 3);\n        i0.ɵɵlistener(\"click\", function DialogAddTransferComponent_Template_ion_icon_click_5_listener() {\n          return ctx.modalController.dismiss();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-col\", 4);\n        i0.ɵɵelementStart(7, \"div\");\n        i0.ɵɵtemplate(8, DialogAddTransferComponent_h4_8_Template, 3, 0, \"h4\", 5);\n        i0.ɵɵtemplate(9, DialogAddTransferComponent_h4_9_Template, 3, 0, \"h4\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"ion-col\", 6);\n        i0.ɵɵelement(11, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"ion-col\", 8);\n        i0.ɵɵtemplate(13, DialogAddTransferComponent_div_13_Template, 6, 2, \"div\", 9);\n        i0.ɵɵtemplate(14, DialogAddTransferComponent_div_14_Template, 6, 2, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ion-content\", 10);\n        i0.ɵɵelementStart(16, \"ion-grid\");\n        i0.ɵɵelementStart(17, \"ion-row\");\n        i0.ɵɵelementStart(18, \"ion-col\", 1);\n        i0.ɵɵelementStart(19, \"ion-list\");\n        i0.ɵɵelementStart(20, \"ion-label\");\n        i0.ɵɵtext(21, \" Estatus *\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"ion-card\", 11);\n        i0.ɵɵelementStart(23, \"ion-item\");\n        i0.ɵɵelementStart(24, \"ion-label\");\n        i0.ɵɵtext(25, \"Estatus\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"ion-select\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function DialogAddTransferComponent_Template_ion_select_ngModelChange_26_listener($event) {\n          return ctx.data.status = $event;\n        })(\"focus\", function DialogAddTransferComponent_Template_ion_select_focus_26_listener() {\n          return ctx.activeStatus = false;\n        });\n        i0.ɵɵtemplate(27, DialogAddTransferComponent_ion_select_option_27_Template, 2, 2, \"ion-select-option\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(28, DialogAddTransferComponent_ion_label_28_Template, 2, 0, \"ion-label\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"ion-col\", 15);\n        i0.ɵɵelementStart(30, \"ion-label\");\n        i0.ɵɵtext(31, \"Fecha *\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"ion-card\", 16);\n        i0.ɵɵelementStart(33, \"ion-datetime\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function DialogAddTransferComponent_Template_ion_datetime_ngModelChange_33_listener($event) {\n          return ctx.data.date = $event;\n        })(\"focus\", function DialogAddTransferComponent_Template_ion_datetime_focus_33_listener() {\n          return ctx.activeDate = false;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(34, DialogAddTransferComponent_ion_label_34_Template, 2, 0, \"ion-label\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"ion-col\", 15);\n        i0.ɵɵelementStart(36, \"ion-label\");\n        i0.ɵɵtext(37, \"Hora\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"ion-card\", 16);\n        i0.ɵɵelementStart(39, \"ion-input\", 18);\n        i0.ɵɵlistener(\"focus\", function DialogAddTransferComponent_Template_ion_input_focus_39_listener() {\n          return ctx.activeTime = false;\n        })(\"ngModelChange\", function DialogAddTransferComponent_Template_ion_input_ngModelChange_39_listener($event) {\n          return ctx.data.time = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(40, DialogAddTransferComponent_ion_label_40_Template, 2, 0, \"ion-label\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(41, DialogAddTransferComponent_ion_col_41_Template, 13, 4, \"ion-col\", 19);\n        i0.ɵɵtemplate(42, DialogAddTransferComponent_ion_col_42_Template, 13, 4, \"ion-col\", 19);\n        i0.ɵɵtemplate(43, DialogAddTransferComponent_ion_col_43_Template, 6, 2, \"ion-col\", 19);\n        i0.ɵɵelementStart(44, \"ion-col\", 1);\n        i0.ɵɵelementStart(45, \"ion-label\");\n        i0.ɵɵtext(46, \"Cantidad (Kgs)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"ion-card\", 11);\n        i0.ɵɵelementStart(48, \"ion-input\", 20);\n        i0.ɵɵlistener(\"focus\", function DialogAddTransferComponent_Template_ion_input_focus_48_listener() {\n          return ctx.activeAmount = false;\n        })(\"keyup\", function DialogAddTransferComponent_Template_ion_input_keyup_48_listener() {\n          return ctx.getWordAmount(ctx.data.amount);\n        })(\"ngModelChange\", function DialogAddTransferComponent_Template_ion_input_ngModelChange_48_listener($event) {\n          return ctx.data.amount = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(49, DialogAddTransferComponent_ion_label_49_Template, 2, 0, \"ion-label\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"ion-col\", 1);\n        i0.ɵɵelementStart(51, \"ion-label\");\n        i0.ɵɵtext(52, \"Comentario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"ion-card\");\n        i0.ɵɵelementStart(54, \"ion-textarea\", 21);\n        i0.ɵɵlistener(\"focus\", function DialogAddTransferComponent_Template_ion_textarea_focus_54_listener() {\n          return ctx.activeComment = false;\n        })(\"ngModelChange\", function DialogAddTransferComponent_Template_ion_textarea_ngModelChange_54_listener($event) {\n          return ctx.data.comment = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(55, DialogAddTransferComponent_ion_label_55_Template, 2, 0, \"ion-label\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"ion-footer\", 22);\n        i0.ɵɵelementStart(57, \"ion-grid\");\n        i0.ɵɵelementStart(58, \"ion-row\", 23);\n        i0.ɵɵelementStart(59, \"ion-col\", 24);\n        i0.ɵɵelementStart(60, \"ion-button\", 25);\n        i0.ɵɵlistener(\"click\", function DialogAddTransferComponent_Template_ion_button_click_60_listener() {\n          return ctx.validateSave();\n        });\n        i0.ɵɵtext(61, \" GUARDAR \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.type === 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.type === 2);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.idRegister === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.idRegister !== 0);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.data.status);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.dataStatus);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeStatus);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.data.date)(\"value\", ctx.today)(\"dayShortNames\", ctx.customDayShortNames);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeDate);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.data.time);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeTime);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.idRegister === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.idRegister !== 0 && ctx.visible === true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.type !== 2);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.data.amount);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeAmount);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.data.comment);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.activeComment);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", ctx.data.fromBranchId === ctx.user.branch);\n      }\n    },\n    directives: [i1.IonApp, i1.IonHeader, i1.IonRow, i1.IonCol, i1.IonIcon, i4.NgIf, i1.IonContent, i1.IonGrid, i1.IonList, i1.IonLabel, i1.IonCard, i1.IonItem, i1.IonSelect, i1.SelectValueAccessor, i5.RequiredValidator, i5.NgControlStatus, i5.NgModel, i4.NgForOf, i1.IonDatetime, i1.IonInput, i1.TextValueAccessor, i1.IonTextarea, i1.IonFooter, i1.IonButton, i1.IonSelectOption, i1.IonListHeader, i1.IonSearchbar],\n    styles: [\".align-text-end[_ngcontent-%COMP%]{text-align:end}.subtitle-negro[_ngcontent-%COMP%]{color:#000;font-weight:700;font-size:large}\"]\n  });\n  return DialogAddTransferComponent;\n})();\n\nclass TransferModel {}","map":null,"metadata":{},"sourceType":"module"}